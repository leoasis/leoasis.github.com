<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/component---src-layouts-index-js-084cccea986a6987c797.js" as="script"/><link rel="preload" href="/component---src-templates-blog-post-js-51c1f8067c000fca4219.js" as="script"/><link rel="preload" href="/path---posts-2013-01-24-javascript-object-creation-patterns-660183eec9f28ff6fbec.js" as="script"/><link rel="preload" href="/app-55a192476d719302a818.js" as="script"/><link rel="preload" href="/commons-1502109b942bd291ea04.js" as="script"/><script id="webpack-manifest">/*<![CDATA[*/window.webpackManifest={"231608221292675":"app-55a192476d719302a818.js","107818501498521":"component---src-templates-blog-post-js-51c1f8067c000fca4219.js","162898551421021":"component---src-pages-404-js-81816f58100d65ba8a57.js","263791100135453":"component---src-pages-about-js-e1cb6ff837455824a09a.js","35783957827783":"component---src-pages-index-js-ef58c54e0b0e4ce0ed6f.js","60335399758886":"path----557518bd178906f8d58a.js","102171553473247":"path---posts-2013-01-10-hello-world-06bc4ce03c59e55096ec.js","232871571175664":"path---posts-2013-01-24-javascript-object-creation-patterns-660183eec9f28ff6fbec.js","97376589026919":"path---posts-2014-03-22-from-backbone-views-to-react-559f77c702e8e00ed7dd.js","104266205769174":"path---posts-2018-04-27-graphql-persisted-documents-78af4f9a4433f8d93cc4.js","246505191935433":"path---posts-2014-10-28-think-twice-or-thrice-before-using-angular-6f133aaa381df44b5c0b.js","1115277431253":"path---posts-2013-05-16-activerecord-futures-bc7fad6feac4570c2832.js","210748832067839":"path---posts-2017-06-26-reparenting-a-component-f97a3d186000b63a0f58.js","184916109098388":"path---posts-2017-03-27-react-patterns-render-callback-d58d133197756f4fe101.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","273950069227526":"path---about-1335519712a6728fb0b8.js","142629428675168":"path---index-d1c00d7eb95584bbac9c.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","114276838955818":"component---src-layouts-index-js-084cccea986a6987c797.js"}/*]]>*/</script><style id="glamor-styles">.css-x4xt97,[data-css-x4xt97]{position:relative;width:800px;margin:0 auto;padding:2.175rem 1.0875rem;}@media only screen and (max-width: 480px), only screen and (width: 768px){.css-x4xt97,[data-css-x4xt97]{padding-top:1.45rem;width:100%;}}.css-noo35l,[data-css-noo35l]{min-height:100%;position:relative;padding-bottom:50px;}.css-16z9ns6,[data-css-16z9ns6]{border:0px;padding:0px;border-radius:25px;display:block;}.css-1fp0t6k,[data-css-1fp0t6k]{color:inherit;font-size:1.2em;text-decoration:none;}.css-1fp0t6k:hover,[data-css-1fp0t6k]:hover{opacity:0.4;color:inherit;}.css-1lqhxmb,[data-css-1lqhxmb]{list-style:none;margin:0 0.3em;}.css-eurm7y,[data-css-eurm7y]{margin:0 1.0875rem;line-height:2;display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;align-items:center;-webkit-box-align:center;-webkit-align-items:center;}.css-1b1b8si,[data-css-1b1b8si]{border-bottom:1px solid #e5e5e5;font-family:-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;font-weight:200;}.css-1wiofhw,[data-css-1wiofhw]{margin:0;}.css-ia6w4z,[data-css-ia6w4z]{margin-bottom:0.725rem;font-family:"Yanone Kaffeesatz", "Helvetica", sans-serif;font-size:1.03526rem;line-height:1.45rem;color:#7f7f7f;}.css-1ghnoaj,[data-css-1ghnoaj]{color:#de3f1c;}.css-1ynxr4x,[data-css-1ynxr4x]{border-top:1px solid #e5e5e5;position:absolute;bottom:0;height:50px;width:100%;display:-webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;justify-content:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-webkit-box-align:center;-webkit-align-items:center;}</style><script id="glamor-ids">
        // <![CDATA[
        window._glamor = ["x4xt97","noo35l","16z9ns6","1fp0t6k","1lqhxmb","eurm7y","1b1b8si","1wiofhw","ia6w4z","1ghnoaj","1ynxr4x"]
        // ]]>
        </script><title data-react-helmet="true">Javascript object creation patterns | Lenny&#x27;s Blog</title><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em 'Palatino Linotype','Book Antiqua','Palatino',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Palatino Linotype','Book Antiqua','Palatino',serif;font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:normal;-ms-font-feature-settings:normal;-webkit-font-feature-settings:normal;font-feature-settings:normal;}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'Yanone Kaffeesatz','Helvetica',sans-serif;font-weight:400;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'Yanone Kaffeesatz','Helvetica',sans-serif;font-weight:400;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'Yanone Kaffeesatz','Helvetica',sans-serif;font-weight:400;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'Yanone Kaffeesatz','Helvetica',sans-serif;font-weight:400;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'Yanone Kaffeesatz','Helvetica',sans-serif;font-weight:400;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:inherit;font-family:'Yanone Kaffeesatz','Helvetica',sans-serif;font-weight:400;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}ul{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:0.85rem;line-height:1.45rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}blockquote{margin-left:1.45rem;margin-right:1.45rem;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.45rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}b{font-weight:bold;}strong{font-weight:bold;}dt{font-weight:bold;}th{font-weight:bold;}li{margin-bottom:calc(1.45rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}li > ul{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.45rem / 2);}code{font-size:0.85rem;line-height:1.45rem;}kbd{font-size:0.85rem;line-height:1.45rem;}samp{font-size:0.85rem;line-height:1.45rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:0.96667rem;padding-right:0.96667rem;padding-top:0.725rem;padding-bottom:calc(0.725rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:#de3f1c;}</style><script>/*<![CDATA[*/!function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",["/commons-1502109b942bd291ea04.js","/app-55a192476d719302a818.js","/path---posts-2013-01-24-javascript-object-creation-patterns-660183eec9f28ff6fbec.js","/component---src-templates-blog-post-js-51c1f8067c000fca4219.js","/component---src-layouts-index-js-084cccea986a6987c797.js"])/*]]>*/</script><style id="gatsby-inlined-css">@font-face{font-family:Yanone Kaffeesatz;font-style:normal;font-display:swap;font-weight:200;src:local("Yanone Kaffeesatz Extra Light "),local("Yanone Kaffeesatz-Extra Light"),url(/static/yanone-kaffeesatz-latin-200.263cb7d2.woff2) format("woff2"),url(/static/yanone-kaffeesatz-latin-200.9f3c63c9.woff) format("woff")}@font-face{font-family:Yanone Kaffeesatz;font-style:normal;font-display:swap;font-weight:300;src:local("Yanone Kaffeesatz Light "),local("Yanone Kaffeesatz-Light"),url(/static/yanone-kaffeesatz-latin-300.5b4a7bee.woff2) format("woff2"),url(/static/yanone-kaffeesatz-latin-300.b6bf099e.woff) format("woff")}@font-face{font-family:Yanone Kaffeesatz;font-style:normal;font-display:swap;font-weight:400;src:local("Yanone Kaffeesatz Regular "),local("Yanone Kaffeesatz-Regular"),url(/static/yanone-kaffeesatz-latin-400.e3e11825.woff2) format("woff2"),url(/static/yanone-kaffeesatz-latin-400.f014be68.woff) format("woff")}@font-face{font-family:Yanone Kaffeesatz;font-style:normal;font-display:swap;font-weight:700;src:local("Yanone Kaffeesatz Bold "),local("Yanone Kaffeesatz-Bold"),url(/static/yanone-kaffeesatz-latin-700.980956a3.woff2) format("woff2"),url(/static/yanone-kaffeesatz-latin-700.86d0626d.woff) format("woff")}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style></head><body><div id="___gatsby"><div class="css-noo35l" data-reactroot=""><header class="css-1b1b8si"><nav><ul class="css-eurm7y"><li class="css-1lqhxmb"><a class="css-1fp0t6k" href="/"><img src="/static/avatar.94c65dad.jpeg" height="25" width="25" class="css-16z9ns6"/></a></li><li class="css-1lqhxmb"><a class="css-1fp0t6k" href="/">Posts</a></li><li class="css-1lqhxmb"><a class="css-1fp0t6k" href="/about">About</a></li><li class="css-1lqhxmb"><a href="https://github.com/leoasis" target="_blank" rel="noopener" class="css-1fp0t6k">Github</a></li><li class="css-1lqhxmb"><a href="https://twitter.com/leogcrespo" target="_blank" rel="noopener" class="css-1fp0t6k">Twitter</a></li></ul></nav></header><main><div class="css-x4xt97"><div><h1 class="css-1wiofhw">Javascript object creation patterns</h1><p class="css-ia6w4z">January 24, 2013</p><div><p>I’m writing this post because my folks at work thought it might be helpful, since not all of the devs out there are familiar with the way that Javascript objects and prototypes work.</p>
<p>These concepts are basic for all Javascript developers, and by basic I mean that in the way of “building the basis for the rest of the concepts you’ll learn in Javascript”, and not the “it’s sooo trivial, how can’t you know that?” meaning.</p>
<p>This is the summary of the patterns I’ll cover:</p>
<ol>
<li>Object literal</li>
<li>Function that returns an object</li>
<li>Constructor function</li>
<li>Constructor function with prototype</li>
<li>Object.create</li>
</ol>
<h2>Object literal</h2>
<p>This is the most used pattern. It’s just defining the properties of an object between curly braces. That’s it.
You can create one time objects by using the object literal and assigning the properties and methods you need.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code><span class="token keyword">var</span> guy <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span>
  awesome<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  aboutMe<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>awesome <span class="token operator">?</span> <span class="token string">"I'm awesome!"</span> <span class="token punctuation">:</span> <span class="token string">"I'm lame :("</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>The good thing about this pattern is its simplicity. Just create an object right away and start using it. The bad thing is that it is explicit: you need to specify each and every property that the object has, there is no “class” already defined elsewhere that you can just use to create an instance with.</p>
<p>This pattern is mostly suitable for creating one time objects, singleton objects, or objects that act as hashes.
It is not good for creating multiple similar objects, because by definition, this pattern is a one time creational one: you define the object and you get it built.</p>
<h2>Function that returns an object</h2>
<p>This patterns adds into the previous one, by encapsulating the object definition inside a function. It is just the factory method pattern.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">createGuy</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> awesome<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">awesomeness</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">"I'm awesome!"</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">lameness</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">"I'm lame :("</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> name<span class="token punctuation">,</span>
    awesome<span class="token punctuation">:</span> awesome<span class="token punctuation">,</span>
    aboutMe<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>awesome <span class="token operator">?</span> <span class="token function">awesomeness</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token function">lameness</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> guy <span class="token operator">=</span> <span class="token function">createGuy</span><span class="token punctuation">(</span><span class="token string">"John"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>This one is suitable for creating complex objects, and you don’t want the caller to know how it is built. It also adds a way to define “private” methods, by declaring them inside the scope of the factory function, which will not be visible outside that scope.</p>
<p>As we’re creating a full blown new object each time we call the function, we have memory usage issues if we want to create a lot of “instances” (actually, to the engine they are independent objects that happen to have properties and functions that behave the same).</p>
<h2>Constructor function</h2>
<p>This pattern is similar to the previous one, but with some subtle differences. We don’t return the object anymore, in fact, the function itself doesn’t return anything. Also, we set the object-to-be-constructed’s properties by using <code>this</code>. There is also another difference in the caller, and it’s an important one: the function is called with a prefixed <code>new</code> operator. This indicates that we are using that function as a constructor. Basically what it does internally is creating a new object, making it accessible to the constructor via the <code>this</code> keyword, assigning the object’s <em>prototype</em> to the one pointed by the function’s <code>prototype</code> property, and returning it implicitly. We’ll see that thing about prototypes in the following pattern, so for now just look at this example:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Guy</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> awesome<span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token comment">// Some "private" methods</span>
  <span class="token keyword">function</span> <span class="token function">awesomeness</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">"I'm awesome!"</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">lameness</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">"I'm lame :("</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>awesome <span class="token operator">=</span> awesome<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">aboutMe</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>awesome <span class="token operator">?</span> <span class="token function">awesomeness</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token function">lameness</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> guy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Guy</span><span class="token punctuation">(</span><span class="token string">"John"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>As it is so similar to the previous pattern, it remains useful in the same scenarios or needs. As a drawback, you <em>have</em> to remember to call that function with the <code>new</code> operator. If you don’t, it will be treated as a regular function, and in regular functions <code>this</code> points to the global object, that is, <code>window</code> for browsers and <code>global</code> for nodejs.</p>
<h2>Constructor function with prototype</h2>
<p>This patterns makes use of the previously described <code>prototype</code> property from the function, to set the object’s <em>prototype</em> (note that I’m making a distinction here, since those two concepts, while related, are not the same).</p>
<p>We could rewrite the previous example like this:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Guy</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> awesome<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>awesome <span class="token operator">=</span> awesome<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Guy<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">aboutMe</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>awesome <span class="token operator">?</span> <span class="token string">"I'm awesome!"</span> <span class="token punctuation">:</span> <span class="token string">"I'm lame :("</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> guy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Guy</span><span class="token punctuation">(</span><span class="token string">"John"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>What’s the difference? Well to understand that, we need to know that in Javascript, every object has an internal property (not accessible, at least not in a standard way) that is the <em>prototype</em>. This <em>prototype</em> is another object, which will be used in the lookup chain for the methods being called in the object.
Also, a function (which is also an object in Javascript) contains a property called <code>prototype</code>, which is not the function’s <em>prototype</em>, but a special property that the engine uses when using the function as a constructor (using the <code>new</code> keyword) to assign the <em>prototype</em> to the newly created object.</p>
<p>In the example, we’re constructing a new object, <code>guy</code>, that has a <em>prototype</em> which contains a method called <code>aboutMe</code>. With the lookup chain, we can call <code>guy.aboutMe()</code> and it will finally call the <em>prototype</em>’s method.</p>
<p>So what’s the benefit of doing this? As you can see, we’re defining a set of methods and properties to be shared by the instances created using that constructor, just like in the patterns before, but in this case, this is <em>true</em> sharing: all the instances have a <em>prototype</em> which is the <em>same</em> object for all. In terms of performance, this is a huge win if we’re creating a lot of instances, since the methods and properties will be in just one object, and not copied all over the instances.</p>
<p>One thing to emphasize here, is that the Function’s <code>prototype</code> property is a <em>reference</em> to the <em>prototypes</em> of the objects created by that function as a constructor. So as a reference, we can get access to it and modify it.</p>
<p>Consider this code is after the code in the previous example:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code>Guy<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">aboutMe</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">"I'm beyond awesome!"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>guy<span class="token punctuation">.</span><span class="token function">aboutMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>Here what we’re doing is changing a method of the object that is the <em>prototype</em> of <code>guy</code>. So now it is clear (perhaps not that clear?) that this code prints “I’m beyond awesome!”, because the aboutMe lookup goes up to the object’s <em>prototype</em> and finds the new aboutMe method (oh, now I got it).</p>
<p>This example is somewhat different, consider that the previous code never happened, and instead this one did:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code>Guy<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  aboutMe<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">"I'm beyond awesome!"</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>guy<span class="token punctuation">.</span><span class="token function">aboutMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>Is this the same behavior as the example before? Not quite. If you look closer, you’ll see that what I just did was to change the function’s <code>prototype</code> <em>reference</em> to a new object. So what this means is that we don’t have a reference to the <em>prototype</em> of the instances created by the constructor anymore. This code will print “I’m awesome!”, and will ignore this new aboutMe method, because we never changed <code>guy</code>’s <em>prototype</em>.</p>
<p>But if we had something like this <em>after</em> this previous example:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code><span class="token keyword">var</span> newGuy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Guy</span><span class="token punctuation">(</span><span class="token string">"Larry"</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newGuy<span class="token punctuation">.</span><span class="token function">aboutMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>This will indeed call the new <code>aboutMe</code> method. Why? Because at the moment this instance was created, the function’s <code>prototype</code> was already the new one, so <code>newGuy</code> now has the <em>prototype</em> currently referenced by <code>Guy.prototype</code>, which is different than <code>guy</code>’s <em>prototype</em>.</p>
<h3>Prototype chain</h3>
<p>Remember that I said that the object’s <em>prototypes</em> are just objects? So this <em>prototype</em> could have its own <em>prototype</em> that in turn could have its own <em>prototype</em> and so on… This is what is called a <em>prototype chain</em>, which is essentially the lookup chain that the engine uses to find the code to execute upon a given call.</p>
<p>This <em>prototype chain</em> is something like inheritance, since basically that is just a lookup chain to know which code to execute. So we could create a new constructor function that has its <code>prototype</code> be an object that has as <em>prototype</em> the <code>prototype</code> of <code>Guy</code>, so that the objects created with this constructor would “extend” <code>Guy</code>’s functionality:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">NewGuy</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> awesome<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>awesome <span class="token operator">=</span> awesome<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

NewGuy<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Guy</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
NewGuy<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">shout</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">"Aaaaaaahhhh"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> john <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NewGuy</span><span class="token punctuation">(</span><span class="token string">"New John"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
john<span class="token punctuation">.</span><span class="token function">aboutMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
john<span class="token punctuation">.</span><span class="token function">shout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>Well, that works, but it is not pretty. First, we’re duplicating the constructor, and second, we’re creating a new <code>Guy</code> and passing null parameters (and this actually works because the constructor <code>Guy</code> does not play enough with the parameters to make all this explode with a null exception). There is a technique to fix this, that is used by many libraries that implement “class extension”, “class inheritance” and such. It’s something like this:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">NewGuy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Guy<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> <span class="token function-variable function">ctor</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// empty constructor</span>
ctor<span class="token punctuation">.</span>prototype <span class="token operator">=</span> Guy<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>

NewGuy<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ctor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
NewGuy<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">shout</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">"Aaaaaaahhhh"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> john <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NewGuy</span><span class="token punctuation">(</span><span class="token string">"New John"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
john<span class="token punctuation">.</span><span class="token function">aboutMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
john<span class="token punctuation">.</span><span class="token function">shout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<p>What did we do here? We’ll get to the constructor in a minute. Notice the <code>ctor</code> constructor function. It is an empty function, but we set its <code>prototype</code> property to the <code>Guy</code>’s one. So now if we create a new <code>ctor</code> instance, we’re going to have an empty object whose <em>prototype</em> is the same as the one we would get if we created an instance using the <code>Guy</code> constructor. That’s the key!</p>
<p>As for the constructor, notice we’re just calling the <code>Guy</code> constructor and passing whatever arguments we get from outside. Notice here we didn’t call <code>Guy</code> with <code>new</code>, since that would create a new object, and what we want now is to get the same code executed when creating a <code>NewGuy</code> instance.</p>
<h2>Object.create</h2>
<p>Phewww that last one was pretty long. Got your breath back already? Good. One more to go!</p>
<p>There is one more pattern, which is not available in all browsers (well, it IS in all browsers but IE &#x3C; 9). It goes like this:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code><span class="token keyword">var</span> guyPrototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  aboutMe<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>awesome <span class="token operator">?</span> <span class="token string">"I'm awesome!"</span> <span class="token punctuation">:</span> <span class="token string">"I'm lame :("</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> guy <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>guyPrototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
guy<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
guy<span class="token punctuation">.</span>awesome <span class="token operator">=</span> awesome<span class="token punctuation">;</span>
</code></pre>
      </div>
<p>Here we’re doing something similar to the previous pattern. We’re creating objects that have a <em>prototype</em>. This time we do that differently, by using <code>Object.create</code>. What this does is another way to do what <code>new</code> does for constructor functions. You set the prototype object as the parameter of <code>Object.create</code> and it returns a new object whose <em>prototype</em> is that passed object.</p>
<p>This pattern is useful for creating multiple instances from a prototype, just like the previous one. It is also easier to understand (once you get what this prototype fuzz is all about) than the <em>constructor</em> functions with <code>this</code> and the <code>new</code> keyword. Some people also like this more because it indicates more clearly the prototipal nature of Javascript.</p>
<p>For the old IE lovers, you can get similar functionality by creating a shim of <code>Object.create</code> with this code (<a href="http://www.crockford.com">Crockford</a>’s example):</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> Object<span class="token punctuation">.</span>create <span class="token operator">!==</span> <span class="token string">"function"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Object<span class="token punctuation">.</span><span class="token function-variable function">create</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    F<span class="token punctuation">.</span>prototype <span class="token operator">=</span> o<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<p>Or use this optimized version that reuses the constructor function:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> Object<span class="token punctuation">.</span>create <span class="token operator">!==</span> <span class="token string">"function"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Object<span class="token punctuation">.</span>create <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      F<span class="token punctuation">.</span>prototype <span class="token operator">=</span> o<span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<p>Now that you understand how <code>new</code> works, I’ll let you understand this code as an exercise.</p>
<p>This shim is not complete though. <code>Object.create</code> has an optional second parameter used to define the new object’s extra properties. Anyway, you can add that to your shim if you like, or just use it without this second parameter.</p>
<h2>To sum up</h2>
<p>We’ve covered different patterns for creating objects in Javascript. It’s important that you understand the pros and cons of each pattern, because none is pure evil or pure goodness, each pattern work in some cases, does not work in others, or is overkill for some other case. It is your job to use them wisely, with a fundamented reason.</p>
<p>Hope this helped someone! You’re free to go or leave a comment, whatever you please :)</p>
<p>See ya!</p></div><div><div id="disqus_thread"></div></div></div></div></main><footer class="css-1ynxr4x"><span>Made with ❤️ by<!-- --> <a href="https://twitter.com/leogcrespo" target="_blank" rel="noopener" class="css-1ghnoaj">Lenny</a></span></footer></div></div><script>
  
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-37579559-1', 'auto');
  </script></body></html>